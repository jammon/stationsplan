{% extends "base.html" %}
{% load staticfiles %}
{% load compress %}

{% block content %}
      <div class="logout">{{ name }}, <a href="/logout">Abmelden</a></div>
      <div role="main" id="main-content">
        <h1>Stationsplan</h1>
      </div>
      <div class="next_month">
        <button type="button" id="next_month" class="btn btn-primary">
          nächster Monat
        </button>
      </div>
      <div id="log"></div>
      <div id="errors"></div>
{% endblock content %}

{% block extracontent %}
<!-- Modal dialog for changing staff -->
<div class="modal fade" id="changestaff" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title" id="changestaffLabel">Besetzung ändern</h4>
        <p><span class="changedate"></span>, <span class="changeward"></span></p>
      </div>
      <div class="modal-body">
        <table id="changestafftable"></table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Abbrechen</button>
      </div>
    </div>
  </div>
</div>
{% endblock extracontent %}

{% block extrascripts %}
    <script type="text/javascript">
      var persons_init = {{ persons|safe }};
      var wards_init = {{ wards|safe }};
      var past_changes = {{ past_changes|safe }};
      var changes = {{ changes|safe }};
      var curr_year = {{ year }};
      var curr_month = {{ month }};
      var can_change = {{ can_change }}==1;

    </script>
  {% compress js %}
    <script src="{% static 'vendor/underscore.js' %}"></script>
    <script src="{% static 'vendor/backbone.js' %}"></script>

    <script src="{% static 'vendor/bootstrap.modalform.js' %}"></script>
    <script src="{% static 'js/models.js' %}?version=0.1"></script>
    <script src="{% static 'js/views.js' %}?version=0.1"></script>
    <script src="{% static 'js/main.js' %}?version=0.1"></script>
  {% endcompress %}
{% endblock extrascripts %}
  </body>
</html>
